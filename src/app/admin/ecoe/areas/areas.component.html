<nz-content *ngIf="areas">
  <nz-table #areasTable
            [nzData]="areas"
            [nzPageSize]="10">
    <thead>
      <tr>
        <th [nzExpand]="true"></th>
        <th [nzWidth]="'350px'">{{"AREAS" | translate}}</th>
        <th [nzWidth]="'250px'">{{"CODE" | translate}}</th>
        <th [nzWidth]="'150px'">{{"QUESTIONS" | translate}}</th>
        <th [nzWidth]="'100px'">{{"ACTION" | translate}}</th>
      </tr>
    </thead>
    <tbody>
      <ng-template ngFor let-area [ngForOf]="areasTable.data">
        <tr>
          <td [nzShowExpand]="area.questions.length > 0" [(nzExpand)]="area.expand" (nzExpandChange)="loadQuestionsByArea($event, area.id)"></td>
          <td>{{area.name}}</td>
          <td>{{area.code}}</td>
          <td>{{area.questions.length}}</td>
          <td>
            <a>
              <i nz-icon type="edit" [nz-tooltip] [nzTitle]="'EDIT' | translate" [theme]="'twotone'"></i>
            </a>
            <nz-divider [nzType]="'vertical'"></nz-divider>
            <a nz-popconfirm [nzTitle]="'DELETE_CONFIRMATION' | translate" (nzOnConfirm)="deleteItem(area['$uri'])">
              <i nz-icon type="delete" [nz-tooltip] [nzTitle]="'DELETE' | translate" [theme]="'twotone'"></i>
            </a>
          </td>
        </tr>
        <tr [nzExpand]="area.expand" *ngFor="let question of area.questionsArray">
          <td></td>
          <td>{{question.description}}</td>
          <td>{{question.reference}}</td>
        </tr>
      </ng-template>
    </tbody>
  </nz-table>
</nz-content>
