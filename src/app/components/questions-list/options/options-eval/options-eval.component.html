<ng-container *ngIf="options">
  <ng-container *ngFor="let optionData of options; let indexOption = index">

    <ng-container *ngIf="(  (question.questionType == 'RS' && indexOption === getIndex() )
                || (question.questionType == 'CH')
                || (question.questionType == 'RB' && indexOption == 0))">

      <nz-switch nz-row
                 *ngIf="question.questionType == 'RB'"
                 (ngModelChange)="onOptionChange($event, optionData.option)"
                 [ngModel]="optionData.checked"
                 [nzCheckedChildren]="OptionRef"
                 [nzUnCheckedChildren]="Option2Ref"
                 [ngClass]="optionData.option.points < 0 ? 'negative-points' : 'positive-points'">
      </nz-switch>

      <nz-switch nz-row
                 *ngIf="question.questionType == 'CH'"
                 [ngClass]="{'switch' : options.length > 1 && indexOption > 0,
                          'negative-points': optionData.option.points < 0,
                          'positive-points': optionData.option.points >= 0}"
                 (ngModelChange)="onOptionChange($event, optionData.option)"
                 [ngModel]="optionData?.checked"
                 [nzCheckedChildren]="OptionRef"
                 [nzUnCheckedChildren]="OptionRef">
      </nz-switch>

      <ng-container *ngIf="question.questionType === 'RS' && options.length > 0">
        <div nz-row class="left">
          <bar-rating
            (rateChange)="onOptionChange($event, optionData.option, question.questionType)"
            [rate]="filtredAnswers.length > 0 ? +optionData.option.label : optionData.option.order"
            [max]="question.options.length"
            showText="true"
            theme="horizontal">
          </bar-rating>
        </div>
      </ng-container>
    </ng-container>

    <ng-template #OptionRef>
      <div>{{optionData.option?.label | stripHtml}}</div>
    </ng-template>

    <ng-template #Option2Ref>
      <div>{{question.options[1].label | stripHtml}}</div>
    </ng-template>
  </ng-container>

</ng-container>
