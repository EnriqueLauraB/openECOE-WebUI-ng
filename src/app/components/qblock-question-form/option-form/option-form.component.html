<div nz-row nzGutter="8" margin-top>
  <div nz-col [nzOffset]="2">
    <form [formGroup]="optionForm" *ngIf="current_number_options > 0" >

      <ng-container [formArrayName]="'optionRow'" *ngFor=" let control of optionForm.get('optionRow')['controls']; let i = index">
        <ng-container *ngIf=" type === 'RB' || type === 'CH' || (type === 'RS' && (i + 1) == optionForm.get('optionRow')['controls'].length)">
          <div nz-row nzGutter="8" nzType="flex" nzJustify="start" [formGroupName]="i+''">
          <div nz-col nzSpan="3">
            <h3 text-left *ngIf="+i === 0"><b>{{'OPTIONS' | translate}}</b></h3>
          </div>
          <div nz-col nzSpan="10">
            <nz-form-control>
              <input *ngIf="type !== this.questionTypeOptions[2]" nz-input [placeholder]="('DESCRIPTION_PLACEHOLDER' | translate)" formControlName="label"/>
              <nz-form-explain
                *ngIf="getFormControl('label',i)?.dirty && getFormControl('label', i)?.hasError('required')">
                {{'DESCRIPTION_INPUT_REQUIRED' | translate}}
              </nz-form-explain>

              <ng-container *ngIf="type === this.questionTypeOptions[2]">
                <div nz-row nzJustify="end">
                  <div nz-col nzSpan="20">
                    <nz-rate
                      formControlName="rateCount"
                      nzAllowClear
                      nzDisabled
                      [nzCount]="control.value['rateCount']">
                    </nz-rate>
                  </div>
                  <div nz-col nzSpan="20" >
                    <nz-button-group nzSize="small">
                      <button nz-button nzType="primary" [disabled]="nRateCount.current <= nRateCount.min" (click)="decreaseRateCount(i)"><i nz-icon nzType="minus"></i></button>
                      <button nz-button nzType="primary" [disabled]="nRateCount.current >= nRateCount.max" (click)="increaseRateCount(i)"><i nz-icon nzType="plus"></i></button>
                    </nz-button-group>
                  </div>
                </div>
              </ng-container>

              </nz-form-control>
          </div>
          <div nz-col nzSpan="3">
            <nz-form-control>
              <input type="number" nz-input [placeholder]="('POINTS_PLACEHOLDER' | translate)" (ngModelChange)="getTotalPoints()" formControlName="points"/>
              <nz-form-explain
                *ngIf="getFormControl('points',i)?.dirty && getFormControl('points', i)?.hasError('required')">
                {{'POINTS_INPUT_REQUIRED' | translate}}
              </nz-form-explain>
            </nz-form-control>
          </div>

          <div nz-col nzSpan="1" style="bottom: 0" *ngIf="i > 0 && type !== 'RB'">
            <button nzSize="small" nz-button nzType="danger" nzShape="circle" (click)="deleteRow(i)"><i nz-icon nzType="delete" nzTheme="outline"></i></button>
          </div>
        </div>
        </ng-container>
      </ng-container>
    </form>
    </div>
</div>
