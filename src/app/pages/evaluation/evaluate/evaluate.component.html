<nz-content padding>

  <nz-card [nzLoading]="loading" [nzTitle]="extraTemplateTitle">
    <ng-container *ngIf="questionsByQblock">
      <app-questions-list *ngFor="let qblock of questionsByQblock"
        [questionsList]="qblock.questions"
        [evaluate]="true"
        [answers]="this.currentStudent.answers"
        (answerQuestion)="updateAnswer($event)"
      >
      </app-questions-list>
    </ng-container>
  </nz-card>

  <ng-template #extraTemplateTitle>
    <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32, xl: 32, xxl: 32 }">
      <div nz-col nzSpan="12" nzXs="24" nzLg="12">
        <h2>
          <a (click)="onBack()"><i nz-icon nzType="arrow-left" nzTheme="outline"></i></a>
          <a *ngIf="station"> {{station?.name}} </a></h2>
        <div>
          <nz-tag [nzColor]="'#2db7f5'" class="my-tag" >{{'00:00'}}</nz-tag> <br/>
          <nz-progress
            [nzPercent]="50"
            [nzShowInfo]="false"
            nzSize="default"
            nzStatus="active"
            style="height: 15px">

          </nz-progress>
        </div>
      </div>
      <div nz-col nzSpan="12" nzXs="24" nzLg="12">
        <h2 uppercase text-right>
          {{
          (loading)
            ? ((!currentStudent.student.name)
              ? (('LOADING' | translate ) + '...' )
              : (currentStudent?.student.surnames + ', ' + currentStudent?.student.name))
            : ((!currentStudent.student.name)
              ? ('THERE_ARE_NOT_STUDENTS' | translate)
              : (currentStudent?.student.surnames + ', ' + currentStudent?.student.name))
          }}
        </h2>
        <div nz-row nzJustify="end">
          <div nz-col nzSpan="6" text-center>{{'DAY-SHIFT' | translate}}</div>
          <div nz-col nzSpan="6" text-center>{{'ROUND' | translate}}</div>
          <div nz-col nzSpan="12" text-center *ngIf="students?.length > 0">{{'NUMB' | translate}}</div>
        </div>
        <nz-divider style="margin: 10px 0"></nz-divider>
        <div nz-row nzJustify="end">
          <div nz-col nzSpan="6" text-center uppercase><h3>{{shift?.shiftCode}}</h3></div>
          <div nz-col nzSpan="6" text-center><h3>{{round?.roundCode}}</h3></div>
          <div nz-col nzSpan="12">
            <div nz-row *ngIf="students?.length > 0">
              <div nz-col nzSpan="8">
                <button nzType="danger" (click)="previousStudent()" nzBlock nzSize="large" text-center nz-button><i nz-icon nzType="left" nzTheme="outline"></i></button>
              </div>
              <div nz-col  nzSpan="8">
                <h3 text-center>{{currentStudent?.index + 1}}</h3>
              </div>
              <div nz-col nzSpan="8">
                <button nzType="primary" (click)="nextStudent()" nzBlock nzSize="large" text-center nz-button><i nz-icon nzType="right" nzTheme="outline"></i></button>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </ng-template>

</nz-content>
